<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Content Manager</title>
    <!-- Identity widget for login -->
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  </head>
  <body>
    <!-- Load CMS (Decap/Netlify CMS) with a reliable CDN + fallback -->
    <script>
      (function () {
        function load(src, onload) {
          var s = document.createElement('script');
          s.src = src; s.defer = true; s.onload = onload;
          s.onerror = function(){ console.error('Failed loading', src); };
          document.body.appendChild(s);
        }
        // Primary: jsDelivr (very reliable)
        load("https://cdn.jsdelivr.net/npm/netlify-cms@^2.0.0/dist/netlify-cms.js", function () {
          if (window.CMS) return CMS.init({ configPath: '/admin/config.yml' });
        });
        // Secondary fallback: Decap CMS on unpkg (new name for Netlify CMS)
        load("https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js", function () {
          if (window.CMS) return CMS.init({ configPath: '/admin/config.yml' });
        });
      })();
    </script>
  </body>
</html>
